model PatientHealthData {
    id                  String              @id @default(uuid())
    patientId           String              @unique
    patient             Patient             @relation(fields: [patientId], references: [id])
    gender              Gender
    dateOfBirth         String
    bloodGroup          BloodGroup?
    hasAllergies        Boolean             @default(false)
    hasDiabetes         Boolean             @default(false)
    height              Float // in cm
    weight              Float // in kg
    smokingStatus       SmokingStatus       @default(NEVER)
    dietaryPreferences  String?
    pregnancyStatus     Boolean             @default(false)
    mentalHealthHistory String?
    immunizationStatus  ImmunizationStatus?
    hasPastSurgeries    Boolean             @default(false)
    recentAnxiety       Boolean             @default(false)
    recentDepression    Boolean             @default(false)
    maritalStatus       MaritalStatus       @default(UNMARRIED)
    createdAt           DateTime            @default(now())
    updatedAt           DateTime            @updatedAt

    // Relations
    medicalReports MedicalReport[]

    @@map("patient_health_datas")
}

model MedicalReport {
    id                  String             @id @default(uuid())
    patientId           String
    patient             Patient            @relation(fields: [patientId], references: [id])
    reportName          String
    reportLink          String
    fileType            String? 
    fileSize            Int? 
    uploadedBy          String? 
    createdAt           DateTime           @default(now())
    updatedAt           DateTime           @updatedAt
    patientHealthData   PatientHealthData? @relation(fields: [patientHealthDataId], references: [id])
    patientHealthDataId String?

    @@index([patientId])
    @@map("medical_reports") 
}
